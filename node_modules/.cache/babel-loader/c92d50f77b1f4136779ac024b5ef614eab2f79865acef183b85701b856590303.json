{"ast":null,"code":"var _jsxFileName = \"/Users/erickcabrera/Desktop/Bytes_HNS/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\n\n//layouts\nimport MainLayout from \"./layouts/MainLayout\";\nimport HomepageLayout from \"./layouts/HomepageLayout\";\n\n// pages\n//import Header from \"./components/Header\";\nimport Homepage from \"./pages/Homepage\";\nimport Registration from \"./pages/Registration\";\nimport Login from \"./pages/Login\";\nimport \"./homepg.scss\";\n\n//firebase\nimport { auth, handleUserProfile } from \"./firebase/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  currentUser: null\n};\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.authListener = null;\n    this.state = {\n      ...initialState\n    };\n  }\n  // use auth for Login and Logout\n  // handle user profile: firebase Database\n  componentDidMount() {\n    this.authListener = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await handleUserProfile(userAuth);\n        userRef.onSnapshot(snapshot => {\n          this.setState({\n            currentUser: {\n              id: snapshot.id,\n              ...snapshot.data()\n            }\n          });\n        });\n      }\n      this.setState({\n        currentUser: userAuth\n      });\n    });\n  }\n  componentWillUnmount() {\n    this.authListener();\n  }\n  render() {\n    const {\n      currentUser\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(HomepageLayout, {\n            currentUser: currentUser,\n            children: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/registration\",\n          element: currentUser ?\n          /*#__PURE__*/\n          //When you logout, return to main page\n          _jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(MainLayout, {\n            currentUser: currentUser,\n            children: /*#__PURE__*/_jsxDEV(Registration, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: currentUser ?\n          /*#__PURE__*/\n          //When you login and logout, return to main page\n          _jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(MainLayout, {\n            currentUser: currentUser,\n            children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Routes","Route","Navigate","MainLayout","HomepageLayout","Homepage","Registration","Login","auth","handleUserProfile","initialState","currentUser","App","constructor","props","authListener","state","componentDidMount","onAuthStateChanged","userAuth","userRef","onSnapshot","snapshot","setState","id","data","componentWillUnmount","render"],"sources":["/Users/erickcabrera/Desktop/Bytes_HNS/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\n\n//layouts\nimport MainLayout from \"./layouts/MainLayout\";\nimport HomepageLayout from \"./layouts/HomepageLayout\";\n\n// pages\n//import Header from \"./components/Header\";\nimport Homepage from \"./pages/Homepage\";\nimport Registration from \"./pages/Registration\";\nimport Login from \"./pages/Login\";\nimport \"./homepg.scss\";\n\n//firebase\nimport { auth, handleUserProfile } from \"./firebase/utils\";\n\nconst initialState = {\n  currentUser: null,\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...initialState,\n    };\n  }\n\n  authListener = null;\n\n  // use auth for Login and Logout\n  // handle user profile: firebase Database\n  componentDidMount() {\n    this.authListener = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await handleUserProfile(userAuth);\n        userRef.onSnapshot((snapshot) => {\n          this.setState({\n            currentUser: {\n              id: snapshot.id,\n              ...snapshot.data(),\n            },\n          });\n        });\n      }\n      this.setState({\n        currentUser: userAuth,\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.authListener();\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={\n              <HomepageLayout currentUser={currentUser}>\n                <Homepage />\n              </HomepageLayout>\n            }\n          />\n          <Route\n            path=\"/registration\"\n            element={\n              currentUser ? ( //When you logout, return to main page\n                <Navigate to=\"/\" />\n              ) : (\n                <MainLayout currentUser={currentUser}>\n                  <Registration />\n                </MainLayout>\n              )\n            }\n          />\n          <Route\n            path=\"/login\"\n            element={\n              currentUser ? ( //When you login and logout, return to main page\n                <Navigate to=\"/\" />\n              ) : (\n                <MainLayout currentUser={currentUser}>\n                  <Login />\n                </MainLayout>\n              )\n            }\n          />\n        </Routes>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,kBAAkB;;AAE1D;AACA,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,OAAOC,cAAc,MAAM,0BAA0B;;AAErD;AACA;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAO,eAAe;;AAEtB;AACA,SAASC,IAAI,EAAEC,iBAAiB,QAAQ,kBAAkB;AAAC;AAE3D,MAAMC,YAAY,GAAG;EACnBC,WAAW,EAAE;AACf,CAAC;AAED,MAAMC,GAAG,SAASb,SAAS,CAAC;EAC1Bc,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAMfC,YAAY,GAAG,IAAI;IALjB,IAAI,CAACC,KAAK,GAAG;MACX,GAAGN;IACL,CAAC;EACH;EAIA;EACA;EACAO,iBAAiB,GAAG;IAClB,IAAI,CAACF,YAAY,GAAGP,IAAI,CAACU,kBAAkB,CAAC,MAAOC,QAAQ,IAAK;MAC9D,IAAIA,QAAQ,EAAE;QACZ,MAAMC,OAAO,GAAG,MAAMX,iBAAiB,CAACU,QAAQ,CAAC;QACjDC,OAAO,CAACC,UAAU,CAAEC,QAAQ,IAAK;UAC/B,IAAI,CAACC,QAAQ,CAAC;YACZZ,WAAW,EAAE;cACXa,EAAE,EAAEF,QAAQ,CAACE,EAAE;cACf,GAAGF,QAAQ,CAACG,IAAI;YAClB;UACF,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;MACA,IAAI,CAACF,QAAQ,CAAC;QACZZ,WAAW,EAAEQ;MACf,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAO,oBAAoB,GAAG;IACrB,IAAI,CAACX,YAAY,EAAE;EACrB;EAEAY,MAAM,GAAG;IACP,MAAM;MAAEhB;IAAY,CAAC,GAAG,IAAI,CAACK,KAAK;IAElC,oBACE;MAAK,SAAS,EAAC,KAAK;MAAA,uBAClB,QAAC,MAAM;QAAA,wBACL,QAAC,KAAK;UACJ,KAAK;UACL,IAAI,EAAC,GAAG;UACR,OAAO,eACL,QAAC,cAAc;YAAC,WAAW,EAAEL,WAAY;YAAA,uBACvC,QAAC,QAAQ;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA;QAEf;UAAA;UAAA;UAAA;QAAA,QACD,eACF,QAAC,KAAK;UACJ,IAAI,EAAC,eAAe;UACpB,OAAO,EACLA,WAAW;UAAA;UAAK;UACd,QAAC,QAAQ;YAAC,EAAE,EAAC;UAAG;YAAA;YAAA;YAAA;UAAA,QAAG,gBAEnB,QAAC,UAAU;YAAC,WAAW,EAAEA,WAAY;YAAA,uBACnC,QAAC,YAAY;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA;QAGrB;UAAA;UAAA;UAAA;QAAA,QACD,eACF,QAAC,KAAK;UACJ,IAAI,EAAC,QAAQ;UACb,OAAO,EACLA,WAAW;UAAA;UAAK;UACd,QAAC,QAAQ;YAAC,EAAE,EAAC;UAAG;YAAA;YAAA;YAAA;UAAA,QAAG,gBAEnB,QAAC,UAAU;YAAC,WAAW,EAAEA,WAAY;YAAA,uBACnC,QAAC,KAAK;cAAA;cAAA;cAAA;YAAA;UAAG;YAAA;YAAA;YAAA;UAAA;QAGd;UAAA;UAAA;UAAA;QAAA,QACD;MAAA;QAAA;QAAA;QAAA;MAAA;IACK;MAAA;MAAA;MAAA;IAAA,QACL;EAEV;AACF;AAEA,eAAeC,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}